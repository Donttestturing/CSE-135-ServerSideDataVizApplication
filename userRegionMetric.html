<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZLGWHQE1D7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-ZLGWHQE1D7');
    </script>  
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> User Region Metric </title>
    <link rel="icon" href="./content/serverIcon.png">
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <script src="./code/dataviz.js" type="module"></script>
    <script nonce="undefined" src="https://cdn.zingchart.com/zingchart.min.js"></script>
    <script src="https://cdn.zinggrid.com/zinggrid.min.js"></script>
    <script src="./code/userRegionMetric.js"> </script>
    <style>
        html, body{
          background-color: var(--color-primary);
        }
        #timeOnSiteLoadTimeChart, #timeOnSiteIdleTimeDiffChart, #timeOnSiteIdleTimeWithDiffChart {
          height: 600px;
          width: 100%;
        }
        #reportDisc{
          padding: 10px;
        }
    </style>
</head>

<body>
    <header></header>
    <main>
      <h1> User Region/language Metric </h1>
      <h5> &nbsp; Does user region/language affect performance and/or user behavior? </h5> 
      <h6> &nbsp; &nbsp; Does that resulting regional performance in turn, affect user behavior? </h6> <hr>
      <br>
      
      <div class="container-fluid">
        <div class="row"> 
          <div class="col-md-12"> 
            <div id="timeOnSiteIdleTimeDiffChart"> </div> 
            <div id="timeOnSiteIdleTimeWithDiffChart" hidden> </div> 
          </div>

        </div>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="showDiffToggle">
          <label class="form-check-label" for="flexSwitchCheckChecked"> View Active Time added to the Chart Above </label>
        </div>

        <div class="row"> 
          <div class="col-md-12"> <div id="timeOnSiteLoadTimeChart"> </div> </div>
        </div>

        <div class="row"> 
          <div class="col-md-12"> 
            <div id="reportDisc" class="card"> 
              <h5 class="card-header">Report Analysis</h5>
              <div class="card-body">
                <div class="card-text">
                  <p>
<pre>    Fundamentally, we would like to know more about our users, who would be our customer base if we were to monetize our site. We would like to gather information and gain wisdom about our customers and their behavior 
to improve the site in practical ways, meaning the ways users use it. Also, from noticing at a high level that a majority of our users come from certain countries, we want to analyze why that might be, and if we could choose 
better network, language, or hosting options to better serve these customers. From our larger question, we develop smaller questions, which these more specific metrics seek to respond to. We have questions like “How much does 
user region affect load time, and does that affect how much a user interacts with the site?” and “Does region increase the amount of time a user is active or idle on our site?” and “Does region affect the bounce rate of our
site, and is connection rate a factor?”
                 
    Firstly, we will note the consideration of language and region. The browser language datapoint is partly flawed in that it doesn't necessarily truly indicate the actual region the user is in, as people can speak various 
languages in a given country. We use it as a kind of heuristic to better classify users and their behavior. However, we should keep this in mind. Moreover, this analysis could be taken literally if one was considering 
speakers of a certain language in particular.

    The first two nested charts (toggleable) show the average idle time and time on the site, grouping by our shorthand for region, the user language indicator. From these two and three series bar charts, we can visually 
compare the relative idle time to onsite time for a region, as well as compare the differences between the regions average times. We can also mouse over each bar to see the real values. If we use the toggle switch, we can
view a more concrete comparison of the difference between the average idle and onsite times. We can easily mouse over each bar to show concrete values from the tooltips. From these difference, we can see exactly the amount
of average active time for each region. We can also see that we can right click on all the zing charts and print, download the charts, or download the data as various file types, or view an image of the chart.  

    The next chart shows the average loadTime next to the Time onsite, again grouped by country, and again to show the difference between the two categories, and the difference for those two categories for each region. 
For all our charts, we try to leverage the quick and dirty visual relative comparisons our eyes can make, with the concrete expression of each raw average value, by using the cursor to hover over each bar to see the true value.
    
    The next portion of the report shows the bounce rate, with its accompanying grid, from part of which the bounce rate was derived from. Our bounce rate and the means of its calculation is displayed on the report, so we will
forgo explaining them again. The grid shows a collated list of data points that we are interested in, for this report. It shows the user, region, loadtime, connection type, and onsite time. We view these attributes because we are
interested in how region relates to user activity, connection rate, and loadtime, if users from different regions use the site differently, and if this is because their connection speeds/ISPs, or something else is bottlenecking 
their site usage. We want to improve our site, for our users. We want to make it easier or faster to use, for our users. So, we want to track and display things like if a user performed any actions on our site, and if not, perhaps
their internet connection is to blame. Moreover, this grid displays some of the data points for the previous charts, like idle time and onsite time, if the reader is interested in a more in depth scouring of the data. Perhaps this 
will lead to other good questions.

    Our interpretation of the first two nested chart shows the vast differences between how users use our site in terms of being active, contrasted with idling. We can speculate that regions that could have lesser internet speeds,
like Japan and Taiwan, might be having trouble connecting and using our site, as we can see from the second chart that Taiwanese users's average load time is much greater than the users in America. This might indicate that 
ISPs per country are having an effect. Related to that, our American users spend the most time on our site overall, on average, and, they have the highest proportion (and amount) of active time as well. Also, from a nonexact visual
perspective, it is clear that American users spent a very high proportion of the onsite time active, and presumably are able to use our site for some purpose. Though, this really just begs more questions we should seek to answer next. 
In addition, Taiwanese and Japanese users appear to spend the majority of their time on our site idle. Is the connection rate to blame? Taiwanese users do take about double the average amount of time to load the site, is that leading 
to Taiwanese users to abandon using the site, while leaving the tab open, hence the high idle times? Again, we might want to look more into that idea.

    The average loadtime and onsite time chart appears to connect to the aforementioned idea about Taiwanese users and idle times. There appears to be a trend that lower load times can greatly increase time onsite, though that seems to
not be the case for Japanese users. We had previously noticed that most of our users come from two regions, and so we sought to make deeper metrics that tried to access the space that would encompass those regions. From these metrics, 
we think we see that maybe our site is too geared toward American users, and that might be an answer to 'why do our users mostly come from two regions?'. Perhaps we should look into more international hosting platforms, and optimize our 
network, because Taiwanese users are not using our site to its fullest. We can definitely see this by comparing our two main charts, as British Users have roughly a similar proportion of load time to onsite  time, but British users have
a much greater amount of active time on the site. Should we get cultural consulting to see if the issue is a cultural one, and our site is designed poorly for the international market?

    The bounce rate and grid appear to mean that our site has a reasonable bounce rate, ~18%, which seems to mesh intuitively with American users active time on our site, where very roughly 20% of the total time spend is idle.  
This might indicate that those idle times, were from users that ultimately bounced. The next step would be to go deeper and more specific with our bounce rate calculations, and group by region and connection rate as well. Moreover,
the grid's meaning and understanding supports the other charts in the report, working as a kind of reference for the reader to better understand, and check against, the charts.

Ultimately, yes it is clear that user region does affect user behavior, A large portion of our users, Taiwanese ones, are idling heavily and are not actively using our site. We cannot conclude this is because of internet performance, 
but it leads us to more pointed questions that we need to ask, like why is the user behavior so different? We need a lot more information and subsequent analysis to conclude why user behavior is different, but, we think it is different.
This is a good starting point for our goal, to improve our site for our users.
</pre>
                  </p>
                </div>
              </div>
            </div> 
          </div>
        </div>

        <div class="row"> 
          <div class="col-md-3"> 
            <div class="card" >
              <h5 class="card-header">Bounce Rate</h5>
              <div class="card-body" >
                <h5 class="card-title"> Bounce Rate for users of ucsociallydead.com</h5>
                <p class="card-text"> Users who were inactive after landing, and never interacted on the page. Bounce Rate is found by computing inactive users/total users, using the table to the right.</p>
                <p class="card-text" id="bounceRate"> </p> 
              </div>
            </div>
          </div>
          <div class="col-md-9"> 
            <zing-grid theme="ios" search pager id="bounceTimeAndRateGrid" page-size="4">
              <zg-caption>Users by region/language, loadtime, activity, onsite time, and connection type</zg-caption>
  
                <zg-data options='{
                  "sortByKey": "_sort",
                  "sortBy": "Id",
                  "sortDirKey": "_order",
                  "sortDir": "desc"
                }'></zg-data>
            </zing-grid>
          </div>    
        </div>

    
      </div>

    </main>

    <footer>
      <a href="https://www.reporting.ucsociallydead.com/"> Back to Reporting Dashboard </a> <br>
      <a href="https://www.reporting.ucsociallydead.com/login.html"> Back to Login page </a> <br>
      <a href="https://www.ucsociallydead.com/"> Back to Homepage </a> <br> 
      <button type="submit" id="logoutBtn"> Logout </button> 
   </footer>
</body>

</html>